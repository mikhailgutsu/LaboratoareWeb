{"ast":null,"code":"import _initializerDefineProperty from \"C:/Users/VARZARI/Documents/GitHub/Lab1_VarzariNicolae_CR-212/my-react-project/my-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty.js\";\nimport _applyDecoratedDescriptor from \"C:/Users/VARZARI/Documents/GitHub/Lab1_VarzariNicolae_CR-212/my-react-project/my-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor.js\";\nimport _initializerWarningHelper from \"C:/Users/VARZARI/Documents/GitHub/Lab1_VarzariNicolae_CR-212/my-react-project/my-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper.js\";\nvar _class,\n  _descriptor,\n  _s = $RefreshSig$();\nimport { createContext, useContext } from 'react';\nimport { observable, action } from 'mobx';\nexport class LocalStorageManager {\n  constructor(prefix) {\n    this.prefix = void 0;\n    this.prefix = prefix;\n  }\n  setItem(key, value) {\n    localStorage.setItem(`${this.prefix}-${key}`, JSON.stringify(value));\n  }\n  getItem(key) {\n    const value = localStorage.getItem(`${this.prefix}-${key}`);\n    return value ? JSON.parse(value) : null;\n  }\n}\nexport let MyStore = (_class = class MyStore {\n  constructor(storageManager) {\n    this.storageManager = void 0;\n    _initializerDefineProperty(this, \"myData\", _descriptor, this);\n    this.storageManager = storageManager;\n    const storedData = this.storageManager.getItem('myData');\n    if (storedData) {\n      this.myData = storedData;\n    } else {\n      this.storageManager.setItem('myData', []);\n    }\n  }\n  setMyData(data) {\n    this.myData = data;\n    this.storageManager.setItem('myData', data);\n  }\n  addObject(data) {\n    this.myData.push(data);\n    this.storageManager.setItem('myData', this.myData);\n  }\n  deleteObject(index) {\n    this.myData.splice(index, 1);\n    this.storageManager.setItem('myData', this.myData);\n  }\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"myData\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"setMyData\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setMyData\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addObject\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"addObject\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteObject\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteObject\"), _class.prototype)), _class);\nconst storageManager = new LocalStorageManager('lab5');\nconst StoreContext = /*#__PURE__*/createContext(new MyStore(storageManager));\nexport const useStore = () => {\n  _s();\n  return useContext(StoreContext);\n};\n_s(useStore, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");","map":{"version":3,"names":["createContext","useContext","observable","action","LocalStorageManager","constructor","prefix","setItem","key","value","localStorage","JSON","stringify","getItem","parse","MyStore","storageManager","storedData","myData","setMyData","data","addObject","push","deleteObject","index","splice","StoreContext","useStore"],"sources":["C:/Users/VARZARI/Documents/GitHub/Lab1_VarzariNicolae_CR-212/my-react-project/my-app/src/MyStore.ts"],"sourcesContent":["import { createContext, useContext } from 'react';\r\nimport { observable, action } from 'mobx';\r\n\r\nexport class LocalStorageManager {\r\n    prefix: string;\r\n\r\n    constructor(prefix: string) {\r\n        this.prefix = prefix;\r\n    }\r\n\r\n    setItem(key: string, value: any) {\r\n        localStorage.setItem(`${this.prefix}-${key}`, JSON.stringify(value));\r\n    }\r\n\r\n    getItem(key: string) {\r\n        const value = localStorage.getItem(`${this.prefix}-${key}`);\r\n        return value ? JSON.parse(value) : null;\r\n    }\r\n}\r\n\r\nexport class MyStore {\r\n    storageManager: LocalStorageManager;\r\n    @observable myData: any = [];\r\n\r\n    constructor(storageManager: LocalStorageManager) {\r\n        this.storageManager = storageManager;\r\n\r\n        const storedData = this.storageManager.getItem('myData');\r\n        if (storedData) {\r\n            this.myData = storedData;\r\n        } else {\r\n            this.storageManager.setItem('myData', []);\r\n        }\r\n    }\r\n\r\n    @action setMyData(data: any) {\r\n        this.myData = data;\r\n        this.storageManager.setItem('myData', data);\r\n    }\r\n\r\n    @action addObject(data: any) {\r\n        this.myData.push(data);\r\n        this.storageManager.setItem('myData', this.myData);\r\n    }\r\n\r\n    @action deleteObject(index: number) {\r\n        this.myData.splice(index, 1);\r\n        this.storageManager.setItem('myData', this.myData);\r\n    }\r\n}\r\n\r\nconst storageManager = new LocalStorageManager('lab5');\r\nconst StoreContext = createContext(new MyStore(storageManager));\r\nexport const useStore = () => useContext(StoreContext);\r\n"],"mappings":";;;;;;AAAA,SAASA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACjD,SAASC,UAAU,EAAEC,MAAM,QAAQ,MAAM;AAEzC,OAAO,MAAMC,mBAAmB,CAAC;EAG7BC,WAAW,CAACC,MAAc,EAAE;IAAA,KAF5BA,MAAM;IAGF,IAAI,CAACA,MAAM,GAAGA,MAAM;EACxB;EAEAC,OAAO,CAACC,GAAW,EAAEC,KAAU,EAAE;IAC7BC,YAAY,CAACH,OAAO,CAAE,GAAE,IAAI,CAACD,MAAO,IAAGE,GAAI,EAAC,EAAEG,IAAI,CAACC,SAAS,CAACH,KAAK,CAAC,CAAC;EACxE;EAEAI,OAAO,CAACL,GAAW,EAAE;IACjB,MAAMC,KAAK,GAAGC,YAAY,CAACG,OAAO,CAAE,GAAE,IAAI,CAACP,MAAO,IAAGE,GAAI,EAAC,CAAC;IAC3D,OAAOC,KAAK,GAAGE,IAAI,CAACG,KAAK,CAACL,KAAK,CAAC,GAAG,IAAI;EAC3C;AACJ;AAEA,WAAaM,OAAO,aAAb,MAAMA,OAAO,CAAC;EAIjBV,WAAW,CAACW,cAAmC,EAAE;IAAA,KAHjDA,cAAc;IAAA;IAIV,IAAI,CAACA,cAAc,GAAGA,cAAc;IAEpC,MAAMC,UAAU,GAAG,IAAI,CAACD,cAAc,CAACH,OAAO,CAAC,QAAQ,CAAC;IACxD,IAAII,UAAU,EAAE;MACZ,IAAI,CAACC,MAAM,GAAGD,UAAU;IAC5B,CAAC,MAAM;MACH,IAAI,CAACD,cAAc,CAACT,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;IAC7C;EACJ;EAEQY,SAAS,CAACC,IAAS,EAAE;IACzB,IAAI,CAACF,MAAM,GAAGE,IAAI;IAClB,IAAI,CAACJ,cAAc,CAACT,OAAO,CAAC,QAAQ,EAAEa,IAAI,CAAC;EAC/C;EAEQC,SAAS,CAACD,IAAS,EAAE;IACzB,IAAI,CAACF,MAAM,CAACI,IAAI,CAACF,IAAI,CAAC;IACtB,IAAI,CAACJ,cAAc,CAACT,OAAO,CAAC,QAAQ,EAAE,IAAI,CAACW,MAAM,CAAC;EACtD;EAEQK,YAAY,CAACC,KAAa,EAAE;IAChC,IAAI,CAACN,MAAM,CAACO,MAAM,CAACD,KAAK,EAAE,CAAC,CAAC;IAC5B,IAAI,CAACR,cAAc,CAACT,OAAO,CAAC,QAAQ,EAAE,IAAI,CAACW,MAAM,CAAC;EACtD;AACJ,CAAC,wEA3BIhB,UAAU;EAAA;EAAA;EAAA;EAAA;IAAA,OAAe,EAAE;EAAA;AAAA,8DAa3BC,MAAM,gJAKNA,MAAM,mJAKNA,MAAM;AAMX,MAAMa,cAAc,GAAG,IAAIZ,mBAAmB,CAAC,MAAM,CAAC;AACtD,MAAMsB,YAAY,gBAAG1B,aAAa,CAAC,IAAIe,OAAO,CAACC,cAAc,CAAC,CAAC;AAC/D,OAAO,MAAMW,QAAQ,GAAG;EAAA;EAAA,OAAM1B,UAAU,CAACyB,YAAY,CAAC;AAAA;AAAC,GAA1CC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}